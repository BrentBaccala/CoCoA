<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META NAME="generator" CONTENT="http://txt2tags.sf.net">
<LINK REL="stylesheet" TYPE="text/css" HREF="cocoalib-doc.css">
<TITLE>      ToString</TITLE>
</HEAD><BODY BGCOLOR="white" TEXT="black">
<P ALIGN="center"><CENTER><H1>      ToString</H1>
<FONT SIZE="4">
<I>      &copy;  2011,2014 John Abbott</I><BR>
      GNU Free Documentation License, Version 1.2
</FONT></CENTER>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>
    <UL>
    <LI><A HREF="#examples">Examples</A>
    <LI><A HREF="#toc2">User documentation</A>
    <LI><A HREF="#toc3">Maintainer documentation</A>
    <LI><A HREF="#toc4">Bugs, shortcomings and other ideas</A>
    <LI><A HREF="#toc5">Main changes</A>
    </UL>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>
<P>
      <center><a href="index.html">CoCoALib Documentation Index</a></center>
</P>
<A NAME="examples"></A>
<H2>Examples</H2>
<UL>
<LI><A HREF="../../examples/index.html#ex-ToString1.C">ex-ToString1.C</A>
<LI><A HREF="../../examples/index.html#ex-ToString2.C">ex-ToString2.C</A>
</UL>

<P></P>
<A NAME="toc2"></A>
<H2>User documentation</H2>
<P>
These functions are to help visualize integer and rational numbers in
a more comprehensible format (as a decimal <CODE>string</CODE>).  The <CODE>SigFig</CODE>
argument is optional; its default value is 5.
</P>
<UL>
<LI><CODE>ToString(N)</CODE>  converts <CODE>N</CODE> to a (decimal) string.
<P></P>
<LI><CODE>FloatStr(N, SigFig)</CODE> convert the number <CODE>N</CODE> into a string choosing
   between "decimal" format and "scientific" format.  The default value for
   <CODE>SigFig</CODE> is 5.
<P></P>
<LI><CODE>ScientificStr(N, SigFig)</CODE> convert the number <CODE>N</CODE> into a string of the
  form mantissa times power-of-ten, with <CODE>SigFig</CODE> digits in the mantissa.
  Note that trailing zeroes are not removed from the mantissa.
<P></P>
<LI><CODE>DecimalStr(N, DecPlaces)</CODE> convert the number <CODE>N</CODE> into a decimal string
  with <CODE>DecPlaces</CODE> digits after the decimal point.  The default value for
  <CODE>DecPlaces</CODE> is 3.
</UL>

<A NAME="toc3"></A>
<H2>Maintainer documentation</H2>
<P>
The function <CODE>ScientificStr</CODE> gives the clearest guarantees about the
format used, but also produces the least humanly readable result.  It
uses <CODE>MantissaAndExponent10</CODE> to do the conversion.
</P>
<P>
The function <CODE>FloatStr</CODE> is supposed to be the best general choice.
It passes its args to <CODE>ScientificStr</CODE> in two situations: if the
number is so large that padding would be needed before the decimal
point; if the number is so small that the <CODE>ScientificStr</CODE> format
would be shorter (<I>i.e.</I> if the exponent is less than -8).
</P>
<P>
The function <CODE>DecimalStr</CODE> is Anna's preferred choice.  It uses
<CODE>ToString</CODE> to convert to decimal.
</P>
<A NAME="toc4"></A>
<H2>Bugs, shortcomings and other ideas</H2>
<P>
These functions cannot be applied directly to a machine integer; to call
them you have to convert explicitly into a <A HREF="BigInt.html"><CODE>BigInt</CODE></A> (or <A HREF="BigRat.html"><CODE>BigRat</CODE></A>).
</P>
<P>
The switch-over in <CODE>FloatStr</CODE> to scientific notation for "large"
numbers is not ideal; in C the "g" format chooses the shorter between
float and scientific formats.  Is it worth the doing the same here?
</P>
<P>
Anna says an older version of <CODE>DecimalStr</CODE> would suppress trailing zeroes
if the result is exact (<I>e.g.</I> <CODE>DecimalStr(5/4,9)</CODE> would produce <CODE>1.25</CODE>
rather than <CODE>1.250000000</CODE>.  Is this a good idea?
</P>
<A NAME="toc5"></A>
<H2>Main changes</H2>
<P>
<B>2014</B>
</P>
<UL>
<LI>April (v0.99533): reorganized, renamed <CODE>FloatStr</CODE> to <CODE>ScientificStr</CODE>,
   added new <CODE>FloatStr</CODE>
<P></P>
<B>2011</B>
<LI>February (v0.9943): first release
</UL>


<!-- html code generated by txt2tags 2.5 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags -t html -o html/ToString.html -i txt/ToString.txt -->
</BODY></HTML>
