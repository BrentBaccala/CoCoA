<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META NAME="generator" CONTENT="http://txt2tags.org">
<LINK REL="stylesheet" TYPE="text/css" HREF="cocoalib-doc.css">
<TITLE>      SmallPrime</TITLE>
</HEAD><BODY BGCOLOR="white" TEXT="black">
<CENTER>
<H1>      SmallPrime</H1>
<FONT SIZE="4"><I>      &copy;  2005 John Abbott</I></FONT><BR>
<FONT SIZE="4">      GNU Free Documentation License, Version 1.2</FONT>
</CENTER>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>

    <UL>
    <LI><A HREF="#toc1">User documentation for the files SmallPrime*</A>
    <LI><A HREF="#toc2">Maintainer documentation for the files SmallPrime*</A>
      <UL>
      <LI><A HREF="#toc3">Bugs, shortcomings, etc</A>
      </UL>
    </UL>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>
<P>
      <center><a href="index.html">CoCoALib Documentation Index</a></center>
</P>

<A NAME="toc1"></A>
<H2>User documentation for the files SmallPrime*</H2>

<P>
These files offer some functions for finding "small primes" which are
defined as primes whose square fits into an unsigned long.  There are four
functions which compute directly with a given (unsigned long) value:
</P>
<P>
-  <CODE>IsSmallPrime(n)</CODE>    returns true iff n^2 fits into an unsigned
                          long, and n is prime.
-  <CODE>NextSmallPrime(n)</CODE>  finds the least value strictly greater than n
                          which satisfies the predicate IsSmallPrime;
                          returns 0 if none exists.
-  <CODE>PrevSmallPrime(n)</CODE>  finds the greatest value strictly less than n
                          which satisfies the predicate IsSmallPrime;
                          returns 0 if none exists.
-  <CODE>FindPrimRoot(p)</CODE>    if p does not satisfy IsSmallPrime, return 0;
                          otherwise return the least positive
                          primitive root modulo p.
</P>
<P>
The class <CODE>SmallPrimeSource</CODE> can be used to generate a succession of small
primes in increasing order.  By default the succession starts with 2; if
the constructor is given argument n then the succession starts with the
first small prime greater than n.  When no more small primes exist,
zeroes are generated.  The function <CODE>CurrentPrime</CODE> returns the current
prime in the succession WITHOUT advancing along the succession.  The
prefix operator <CODE>++</CODE> advances to the next prime in the succession.  See the
example program below to understand better how to use a <CODE>SmallPrimeSource</CODE>.
</P>
<P>
EXAMPLE program to print out all small primes whose least positive
primitive root exceeds 15.
</P>

<PRE>
  #include &lt;iostream&gt;
  #include "CoCoA/SmallPrime.H"
  using namespace CoCoA;
  
  int main()
  {
    std::cout &lt;&lt; "Program to find all small primes with large primitive root" &lt;&lt; std::endl;
    for (SmallPrimeSource ps; CurrentPrime(ps) != 0; ++ps)
    {
      unsigned long p = CurrentPrime(ps);
      unsigned long r = FindPrimRoot(p);
      if (r &gt; 15) std::cout &lt;&lt; p &lt;&lt; " has least positive prim root " &lt;&lt; r &lt;&lt; std::endl;
    }
    return 0;
  }
</PRE>

<A NAME="toc2"></A>
<H2>Maintainer documentation for the files SmallPrime*</H2>

<P>
The class SmallPrimeSource is really very simple.
The other functions are pretty simple too (once you've grasped
the underlying maths).
</P>

<A NAME="toc3"></A>
<H3>Bugs, shortcomings, etc</H3>

<P>
What about the assignment and copy constructor of SmallPrime source?
Should they be hidden, allowed, or what?
</P>
<P>
The code is not valid for computers with more than 64 bits in an unsigned long.
</P>
<P>
Use "static" or an unnamed namespace to hide those functions not intended
for public consumption.
</P>
<P>
Should there also be a -- for SmallPrimeSource?
</P>

<!-- html code generated by txt2tags 2.6 (http://txt2tags.org) -->
<!-- cmdline: txt2tags -t html -o html/SmallPrime.html -i txt/SmallPrime.txt -->
</BODY></HTML>
