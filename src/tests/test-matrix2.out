matrix(ZZ,
 [[1, 0, 0, 4],
  [0, 3, 2, 0],
  [0, 3, 2, 1],
  [1, 0, 0, 0]])
det(M) gives 0
rank(M) gives 3
---------------------------------------------
matrix(QQ,
 [[1, 0, 0, 4],
  [0, 3, 2, 0],
  [0, 3, 2, 1],
  [1, 0, 0, 0]])
det(M) gives 0
rank(M) gives 3
---------------------------------------------
matrix(ZZ,
 [[1, 0, 0, 0],
  [0, 3, 2, 0],
  [0, 3, 2, 1],
  [1, 1, 1, 0]])
det(M) gives -1
rank(M) gives 4
---------------------------------------------
matrix(QQ,
 [[1, 0, 0, 0],
  [0, 3, 2, 0],
  [0, 3, 2, 1],
  [1, 1, 1, 0]])
det(M) gives -1
rank(M) gives 4
---------------------------------------------
